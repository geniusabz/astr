!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/front/markup/header-footer/",n(n.s=77)}({100:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(101);var o=n(144);function u(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},101:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",function(){return r})},144:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(101);function o(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},16:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(7);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){Object(r.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}},42:function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){var r=document.createElement("script");document.body.appendChild(r),r.onload=e,r.onerror=n,r.async=!0,r.src=t})}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var o=function(t,e,n){var r=function(t){var n=t.indexOf("**");return t===e||n>0&&new RegExp("^".concat(t.replace("**","(.*)"),"$")).test(e)};return!!r(t)&&(!n||!Array.isArray(n)||!n.some(function(t){return r(t)}))}},5:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"a",function(){return m});var r=n(60),o=[/beta.alt.mos.ru/,/newmos.mos.ru/,/\w+-tech.mos.ru/,/manage\w*.mos.ru/,/dev-\w+.mos.ru/,/\w+.local.mos-team.ru/,/stage.mospay.mos.ru/,/localhost/,/(10|127|192).([\d]|.)*/],u={tech:/ulk-tech.mos.ru/,prod:/ulk.mos.ru/},c=[/my-tech.mos.ru/,/dev-my.mos.ru/,u.tech],i=[/my.mos.ru/,/beta-my.mos.ru/,u.prod],a=o.some(function(t){return t.test(window.location.host)}),s=Object.values(u).some(function(t){return t.test(window.location.host)}),f=i.concat(c).some(function(t){return t.test(window.location.host)});function d(t){var e=(t||"").toString(),n=o.some(function(t){return t.test(window.location.host)}),u=c.some(function(t){return t.test(window.location.host)}),i=/(http:|https:|\/\/)(.*)/.test(e),a=-1!==e.indexOf("@"),s=function(){var t=Object(r.a)();return t?t.getAttribute("data-domain"):null}();return i||a?e:s?"".concat(s).concat(e):u?"https://newmos.mos.ru".concat(e):n?e:"https://www.mos.ru".concat(e)}var l=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=o.some(function(t){return t.test(window.location.host)}),n="https://ulk-tech.mos.ru",r="https://my-tech.mos.ru";return c.some(function(t){return t.test(window.location.host)})?t?n:r:e?t?n:r:t?"https://ulk.mos.ru":"https://my.mos.ru"};function m(t,e){var n=(t||"").toString();return/(http:|https:|\/\/)(.*)/.test(n)?n:"".concat(l(e)).concat(n)}},60:function(t,e,n){"use strict";e.a=function(){return document.querySelector("#mos-layouts-boot")}},7:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},77:function(t,e,n){"use strict";n.r(e),n.d(e,"EVENT_DISPLAY",function(){return m}),n.d(e,"EVENT_SET_ACTIVE",function(){return h}),n.d(e,"EVENT_HEIGHT",function(){return E}),n.d(e,"EVENT_FULL_HEIGHT",function(){return p}),n.d(e,"EVENT_MOBILE_MENU_OPEN",function(){return b});var r=n(16),o=n(100),u=n(5),c=n(60),i=n(42);window.externalScriptHasStarted=!1;var a=Object(u.b)("/upload/common/default/script_config.js");function s(){window.externalScriptHasStarted=!0,Object(i.b)(a).then(function(){(window.scriptConfig||[]).forEach(function(t){var e=t.path,n=t.func,r=t.domain,o=t.exclude_path,u=t.exclude_domain,c=window.location,a=c.hostname,s=c.pathname;e&&e.forEach(function(t){var e=!1;r&&!o&&(r.filter(function(e){return e===a&&Object(i.a)(t,s)}).length&&n&&(e=!0));r&&o&&(r.filter(function(e){return e===a&&Object(i.a)(t,s,o)}).length&&n&&(e=!0));r||!u||o||!u.filter(function(t){return t===a}).length&&Object(i.a)(t,s)&&n&&(e=!0);!r&&u&&o&&(!u.filter(function(t){return t===a}).length&&Object(i.a)(t,s,o)&&n&&(e=!0));return e&&n(),null})})})}(function t(){setTimeout(function(){window.externalScriptHasStarted||(document.getElementById("mos-header")?s():t())},1e3)})();var f={},d={},l={},m="change:displayHeader",h="change:setActiveHeader",E="change:headerHeight",p="change:fullHeaderHeight",b="open:mobileMenu",g={on:function(t,e){d[t]&&d[t].find(function(t){return t===e})||(d[t]=[].concat(Object(o.a)(d[t]||[]),[e]),e(l[t]))},off:function(t,e){d[t]&&d[t].find(function(t){return t===e})},trigger:function(t,e){d[t]&&(l[t]=e,d[t].forEach(function(t){return t(e)}))}},y={hideEmergency:function(){f.EMERGENCY_FREEZE=!0},showEmergency:function(){f.EMERGENCY_FREEZE=!0,f.EMERGENCY_DISPLAY=!0},unfreeze:function(){f.EMERGENCY_FREEZE=!1},getData:function(){return{emergencyId:f.EMERGENCY_ID,displayEmergency:f.EMERGENCY_DISPLAY,freeze:f.EMERGENCY_FREEZE,emergencyType:f.EMERGENCY_TYPE}},getId:function(){return f.EMERGENCY_ID},getType:function(){return f.EMERGENCY_TYPE},getFreeze:function(){return f.EMERGENCY_FREEZE},getDisplay:function(){return f.EMERGENCY_DISPLAY}},w={get:function(t){return void 0===f[t]||f[t]},set:function(t,e){f[t]=e,this.height.val=e},height:{val:0}},v=function(){var t={header:null,headerInside:null,footer:null,search:null,menu:null,burger:null},e=function(e,n){if(e&&n){if(!(n instanceof Element))throw new Error("\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0443 $mos_layouts.dom.".concat(e," \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e DOM-\u044d\u043b\u0435\u043c\u0435\u043d\u0442."));t[e]=n}};return{get header(){return t.header},set header(t){e("header",t)},get headerInside(){return t.headerInside},set headerInside(t){e("headerInside",t)},get footer(){return t.footer},set footer(t){e("footer",t)},get search(){return t.search},set search(t){e("search",t)},get menu(){return t.menu},set menu(t){e("menu",t)},get burger(){return t.burger},set burger(t){e("burger",t)}}}();window.$mos_layouts=Object(r.a)({config:{layout:{fullWidth:!1,isInside:!1,authActive:!0},domain:function(){var t=Object(c.a)();return t&&t.getAttribute("data-domain")||"https://www.mos.ru"}(),path:Object(u.b)("/front/markup/header-footer/"),resourcesUrl:Object(u.b)("/front/markup/header-footer/"),mosTizerUrl:Object(u.b)("/assets/parable/mosTizer.js")},api:{makeFixed:function(t){w.set("FIXED",t)},setActive:function(){document.dispatchEvent(new CustomEvent(h))},header:w,emergency:y},dom:v},g),window.$mos_layouts.on("change:headerHeight",function(t){return window.$mos_layouts.api.header.set("height",t)}),document.dispatchEvent(new CustomEvent(m))}});
//# sourceMappingURL=api.js.map